<webc-container controller="ViewResearchStudyController">
    <div class="container main-container stepper-3-rows-grid">

        <div class="container flex-container">
            <breadcrumb-navigator></breadcrumb-navigator>
            <h5 class="generic-title">View: {{@title.value}}</h5>
        </div>

        <div class="container justify-content-start">

            <div class="form-row">
                <div class="form-row col-md-6">
                    <div class="form-group">
                        <header>
                            <div class="row-wrapper grid-equal">
                                <label>Basic Information</label>
                            </div>
                        </header>
                        <main>
                            <div class="row-wrapper grid-equal">
                                <div class="row-wrapper grid-equal">
                                    <label>Study name: {{ @title.value }} </label>
                                </div>
                            </div>
                            <div class="row-wrapper grid-equal">
                                <div class="row-wrapper grid-equal">
                                    <label>Period: {{ @startdate.value }} - {{ @enddate.value }} </label>
                                </div>
                            </div>
                            <div class="row-wrapper grid-equal">
                                <div class="row-wrapper grid-equal">
                                    <label>Status: {{ @status }} </label>
                                </div>
                            </div>
                            <div class="row-wrapper grid-equal">
                                <div class="row-wrapper grid-equal">
                                    <label>Description: {{ @description.value }} </label>
                                </div>
                            </div>
                        </main>
                        <header>
                            <div class="row-wrapper grid-equal">
                                <label>Inclusion Criteria</label>
                            </div>
                        </header>
                        <main>
                            <div class="row-wrapper grid-equal">
                                <div class="row-wrapper grid-equal">
                                    <label>Age: {{ @age.value }} </label>
                                </div>
                            </div>
                            <div class="row-wrapper grid-equal">
                                <div class="row-wrapper grid-equal">
                                    <label>Sex: {{ @sex.value }} </label>
                                </div>
                            </div>
                            <div class="row-wrapper grid-equal">
                                <div class="row-wrapper grid-equal">
                                    <label>Previous Pathologies:  {{ @pathologies.value }}</label>
                                </div>
                            </div>
                            <div class="row-wrapper grid-equal">
                                <div class="row-wrapper grid-equal">
                                    <label>Others: {{ @others.value }} </label>
                                </div>
                            </div>
                        </main>
                        <header>
                            <div class="row-wrapper grid-equal">
                                <label>Data to be gathered</label>
                            </div>
                        </header>
                        <main>
                            <div class="row-wrapper grid-equal">
                                <div class="row-wrapper grid-equal">
                                    <label>Data: {{ @data.value }} </label>
                                </div>
                            </div>
                        </main>
                    </div>
                </div>
                <div class="form-row col-md-6">

                    <div class="form-group">
                        <main>
                            <div class="row-wrapper grid-equal">
                                <div class="row-wrapper grid-equal">
                                    <label>Participants: {{ @participantsNumber.value }} </label>
                                </div>
                            </div>
                        </main>

                        <header>
                            <div class="row-wrapper grid-equal">
                                <label>Notes</label>
                            </div>
                        </header>

                        <div data-if="@hasNotes">
                            <webc-spinner slot="loading"></webc-spinner>
                            <div slot="false" class="alert alert-warning" role="alert">
                                <h4 class="alert-heading">No notes yet!</h4>
                                <p>Add your first note for this study!</p>
                            </div>
                            <div class="common-datatable notes-datatable dt-3-col" slot="true">
                                <webc-datatable datasource="@notesDataSource">
                                    <div class="cell">{{ @date }}</div>
                                    <div class="cell">{{ @noteTitle }}</div>
                                    <div class="cell">
                                        <details class="option text-justify">
                                            <summary>View</summary>
                                            {{@noteText}}
                                        </details>
                                    </div>
                                </webc-datatable>
                                <!--                                    <section class="controls button-group-wrapper">-->
                                <!--                                        <button data-tag="prev-page">‹ Previous page</button>-->
                                <!--                                        <button data-tag="next-page">Next page ›</button>-->
                                <!--                                    </section>-->
                            </div>
                        </div>





                        <div>
                            <div class="form-group">
                                <label class="col-form-label">{{@notesViewModel.title.label}}</label>
                                <input class="form-control" data-view-model="@notesViewModel.title" id="@notesViewModel.title.name"/>
                            </div>
                            <div class="form-group">
                                <label class="col-form-label">{{@notesViewModel.text.label}}</label>
                                <textarea class="form-control" data-view-model="@notesViewModel.text" id="@notesViewModel.text.name" rows="4">
                                    </textarea>
                            </div>
                            <div class="button-group-wrapper justify-content-center align-items-center" >
                                <button class="button-group-wrapper" data-tag="save-note">Save Note</button>
                            </div>
                        </div>



                    </div>
                </div>
            </div>

        </div>


        <footer class="button-group-wrapper">
            <button data-tag="view-dynamic-permission">Dynamic Consents</button>
        </footer>

    </div>
</webc-container>